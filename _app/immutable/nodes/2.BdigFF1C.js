import{e as f,a as c,t as g}from"../chunks/disclose-version.BWwIYbep.js";import{q as L,ax as ce,a7 as de,f as u,p as Q,t as R,a as W,u as ue,i as o,F as $,at as B,ay as fe,c as m,s as I,r as h,k as ve}from"../chunks/utils.D_ZagUSB.js";import{a as _e,I as y,r as pe,s as he,c as $e,C as X,B as me,e as E,b as q,h as ge,i as F,d as ye}from"../chunks/index.7RoK3NvX.js";import{d as be,e as xe,s as Me}from"../chunks/render.CKzALSoz.js";import{b as Ne,i as H,c as we}from"../chunks/this.CdTZR7Q4.js";import{l as b,s as x,p as U,r as ke,a as Pe}from"../chunks/props.D1IrFqFA.js";import{g as Z}from"../chunks/entry.CBgOz3pH.js";import{s as M}from"../chunks/snippet.QKTiVmVV.js";function ze(e,t){var r=e.__className,s=Ce(t);L&&e.className===s?e.__className=s:(r!==s||L&&e.className!==s)&&(t==null?e.removeAttribute("class"):e.className=s,e.__className=s)}function Ce(e){return e??""}function Se(e,t,r,s=r){e.addEventListener(t,r);const a=e.__on_r;a?e.__on_r=()=>{a(),s()}:e.__on_r=s,_e()}function Ve(e,t,r=t){var s=ce();Se(e,"input",()=>{var a=G(e)?K(e.value):e.value;r(a),s&&a!==(a=t())&&(e.value=a??"")}),de(()=>{var a=t();if(L&&e.defaultValue!==e.value){r(e.value);return}G(e)&&a===K(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function G(e){var t=e.type;return t==="number"||t==="range"}function K(e){return e===""?null:+e}const De=!0,tt=Object.freeze(Object.defineProperty({__proto__:null,prerender:De},Symbol.toStringTag,{value:"Module"}));function J(e,t){const r=b(t,["children","$$slots","$$events","$$legacy"]);y(e,x({name:"bus"},()=>r,{iconNode:[["path",{d:"M8 6v6"}],["path",{d:"M15 6v6"}],["path",{d:"M2 12h19.6"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3"}],["circle",{cx:"7",cy:"18",r:"2"}],["path",{d:"M9 18h5"}],["circle",{cx:"16",cy:"18",r:"2"}]],children:(a,d)=>{var n=f(),i=u(n);M(i,t,"default",{}),c(a,n)},$$slots:{default:!0}}))}function Ie(e,t){const r=b(t,["children","$$slots","$$events","$$legacy"]);y(e,x({name:"map-pin"},()=>r,{iconNode:[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]],children:(a,d)=>{var n=f(),i=u(n);M(i,t,"default",{}),c(a,n)},$$slots:{default:!0}}))}function Le(e,t){const r=b(t,["children","$$slots","$$events","$$legacy"]);y(e,x({name:"ship"},()=>r,{iconNode:[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6"}],["path",{d:"M12 10v4"}],["path",{d:"M12 2v3"}]],children:(a,d)=>{var n=f(),i=u(n);M(i,t,"default",{}),c(a,n)},$$slots:{default:!0}}))}function je(e,t){const r=b(t,["children","$$slots","$$events","$$legacy"]);y(e,x({name:"train-front-tunnel"},()=>r,{iconNode:[["path",{d:"M2 22V12a10 10 0 1 1 20 0v10"}],["path",{d:"M15 6.8v1.4a3 2.8 0 1 1-6 0V6.8"}],["path",{d:"M10 15h.01"}],["path",{d:"M14 15h.01"}],["path",{d:"M10 19a4 4 0 0 1-4-4v-3a6 6 0 1 1 12 0v3a4 4 0 0 1-4 4Z"}],["path",{d:"m9 19-2 3"}],["path",{d:"m15 19 2 3"}]],children:(a,d)=>{var n=f(),i=u(n);M(i,t,"default",{}),c(a,n)},$$slots:{default:!0}}))}function Ae(e,t){const r=b(t,["children","$$slots","$$events","$$legacy"]);y(e,x({name:"train-front"},()=>r,{iconNode:[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1"}],["path",{d:"m9 15-1-1"}],["path",{d:"m15 15 1-1"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z"}],["path",{d:"m8 19-2 3"}],["path",{d:"m16 19 2 3"}]],children:(a,d)=>{var n=f(),i=u(n);M(i,t,"default",{}),c(a,n)},$$slots:{default:!0}}))}function Oe(e,t){const r=b(t,["children","$$slots","$$events","$$legacy"]);y(e,x({name:"tram-front"},()=>r,{iconNode:[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2"}],["path",{d:"M4 11h16"}],["path",{d:"M12 3v8"}],["path",{d:"m8 19-2 3"}],["path",{d:"m18 22-2-3"}],["path",{d:"M8 15h.01"}],["path",{d:"M16 15h.01"}]],children:(a,d)=>{var n=f(),i=u(n);M(i,t,"default",{}),c(a,n)},$$slots:{default:!0}}))}var Te=g("<input>");function Be(e,t){Q(t,!0);let r=U(t,"ref",15,null),s=U(t,"value",15),a=ke(t,["$$slots","$$events","$$legacy","ref","value","class"]);var d=Te();pe(d);let n;Ne(d,i=>r(i),()=>r()),R(()=>n=he(d,n,{class:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t.class),...a})),Ve(d,s),c(e,d),W()}var Ee=g('<div class="my-2 text-center text-lg text-gray-600">No results found</div>'),qe=(e,t)=>$(t,""),Fe=g('<a><li><div class="flex items-center"><!> <p class="ms-1"> </p></div></li></a>'),He=g('<ul class="mt-1"></ul>'),Ue=g('<div class="m-1 flex items-center"><!> <!></div> <!>',1);function Ze(e,t){Q(t,!0);let r=B("");const s=ve(()=>Object.entries(q).map(([l,v])=>v).filter(l=>l.name.toLowerCase().includes(o(r).toLowerCase())).slice(0,15));let a=B(0);function d(l){switch(l){case 0:return Oe;case 1:return je;case 2:return Ae;case 3:return J;case 4:return Le;default:return J}}const n=l=>{if(o(s).length!==0){if(l.key==="ArrowDown")$(a,(o(a)+1)%o(s).length),l.preventDefault();else if(l.key==="ArrowUp")$(a,(o(a)-1+o(s).length)%o(s).length),l.preventDefault();else if(l.key==="Enter"){const v=o(s)[o(a)];v&&(Z(`/station/${v.id}`),$(r,""))}}};ue(()=>{o(r),$(a,0)});const i=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(l=>{const v=l.coords.latitude,z=l.coords.longitude;let _=null,N=1/0;for(const w of Object.values(q)){const C=ge(v,z,w.lat,w.lon);C<N&&(N=C,_=w)}_?Z(`/station/${_.id}`):alert("No nearby station found")},l=>{console.error("Error getting location:",l),alert("Unable to retrieve your location")})};xe("keydown",fe,n),X(e,{tabindex:0,children:(l,v)=>{var z=Ue(),_=u(z),N=m(_);Be(N,{placeholder:"Find a station",get value(){return o(r)},set value(p){$(r,Pe(p))},class:"flex-grow"});var w=I(N,2);me(w,{variant:"outline",class:"ms-1",onclick:i,children:(p,k)=>{Ie(p,{})},$$slots:{default:!0}}),h(_);var C=I(_,2);H(C,()=>o(s).length===0&&o(r)!=="",p=>{var k=Ee();c(p,k)},p=>{var k=f(),Y=u(k);H(Y,()=>o(r)!=="",ee=>{var S=He();E(S,21,()=>o(s),F,(te,V,ae)=>{var P=Fe();P.__click=[qe,r];var D=m(P),j=m(D),A=m(j);E(A,17,()=>o(V).vehicles,F,(se,ne)=>{var T=f(),oe=u(T);we(oe,()=>d(o(ne)),(le,ie)=>{ie(le,{class:"me-1 h-5 w-5 text-gray-600"})}),c(se,T)});var O=I(A,2),re=m(O,!0);h(O),h(j),h(D),h(P),R(()=>{ye(P,"href",`/station/${o(V).id}`),ze(D,`flex items-center rounded-sm px-2 py-1 text-gray-600 hover:cursor-pointer ${o(a)===ae?"bg-secondary":"hover:bg-secondary"}`),Me(re,o(V).name)}),c(te,P)}),h(S),c(ee,S)},null,!0),c(p,k)}),c(l,z)},$$slots:{default:!0}}),W()}be(["click"]);var Ge=g('<div class="m-4"><!></div>');function at(e){var t=Ge(),r=m(t);X(r,{children:(s,a)=>{Ze(s,{})},$$slots:{default:!0}}),h(t),c(e,t)}export{at as component,tt as universal};
